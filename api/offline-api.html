<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Feathers Offline-first API | FeathersJS Offline-first</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="A REST and real-time API layer for modern applications">
    
    <link rel="preload" href="/docs/assets/css/0.styles.5bea0f23.css" as="style"><link rel="preload" href="/docs/assets/js/app.755caa04.js" as="script"><link rel="preload" href="/docs/assets/js/4.40f59cee.js" as="script"><link rel="preload" href="/docs/assets/js/47.e697328d.js" as="script"><link rel="prefetch" href="/docs/assets/js/1.99d78445.js"><link rel="prefetch" href="/docs/assets/js/10.45e919c5.js"><link rel="prefetch" href="/docs/assets/js/11.83c3d330.js"><link rel="prefetch" href="/docs/assets/js/12.82e67b5e.js"><link rel="prefetch" href="/docs/assets/js/13.6aa5e31e.js"><link rel="prefetch" href="/docs/assets/js/14.60a12577.js"><link rel="prefetch" href="/docs/assets/js/15.36fd5bc1.js"><link rel="prefetch" href="/docs/assets/js/16.92cf6eab.js"><link rel="prefetch" href="/docs/assets/js/17.6463a6de.js"><link rel="prefetch" href="/docs/assets/js/18.18ea4d85.js"><link rel="prefetch" href="/docs/assets/js/19.630d889d.js"><link rel="prefetch" href="/docs/assets/js/20.f546b268.js"><link rel="prefetch" href="/docs/assets/js/21.7afb7ba6.js"><link rel="prefetch" href="/docs/assets/js/22.f0312947.js"><link rel="prefetch" href="/docs/assets/js/23.286ed5d2.js"><link rel="prefetch" href="/docs/assets/js/24.34371823.js"><link rel="prefetch" href="/docs/assets/js/25.39b525c9.js"><link rel="prefetch" href="/docs/assets/js/26.02cc4dd4.js"><link rel="prefetch" href="/docs/assets/js/27.22978b7b.js"><link rel="prefetch" href="/docs/assets/js/28.aab8db49.js"><link rel="prefetch" href="/docs/assets/js/29.e422102b.js"><link rel="prefetch" href="/docs/assets/js/30.e742f42a.js"><link rel="prefetch" href="/docs/assets/js/31.33965f48.js"><link rel="prefetch" href="/docs/assets/js/32.a078f957.js"><link rel="prefetch" href="/docs/assets/js/33.48824de5.js"><link rel="prefetch" href="/docs/assets/js/34.bece4b87.js"><link rel="prefetch" href="/docs/assets/js/35.3503788d.js"><link rel="prefetch" href="/docs/assets/js/36.b3368ddb.js"><link rel="prefetch" href="/docs/assets/js/37.e9ab2d98.js"><link rel="prefetch" href="/docs/assets/js/38.beb58882.js"><link rel="prefetch" href="/docs/assets/js/39.36797e32.js"><link rel="prefetch" href="/docs/assets/js/40.f7e535c4.js"><link rel="prefetch" href="/docs/assets/js/41.7cc2fb79.js"><link rel="prefetch" href="/docs/assets/js/42.cdd5072a.js"><link rel="prefetch" href="/docs/assets/js/43.6d8f2b7b.js"><link rel="prefetch" href="/docs/assets/js/44.c61586cd.js"><link rel="prefetch" href="/docs/assets/js/45.0daab1dc.js"><link rel="prefetch" href="/docs/assets/js/46.b1cdf2d3.js"><link rel="prefetch" href="/docs/assets/js/48.0092dd76.js"><link rel="prefetch" href="/docs/assets/js/49.e4ce18c4.js"><link rel="prefetch" href="/docs/assets/js/5.cb064351.js"><link rel="prefetch" href="/docs/assets/js/50.2005b465.js"><link rel="prefetch" href="/docs/assets/js/51.a40c3f58.js"><link rel="prefetch" href="/docs/assets/js/52.220fdb75.js"><link rel="prefetch" href="/docs/assets/js/53.8ca1d8d6.js"><link rel="prefetch" href="/docs/assets/js/54.b807da69.js"><link rel="prefetch" href="/docs/assets/js/55.4f9b1887.js"><link rel="prefetch" href="/docs/assets/js/56.22afea52.js"><link rel="prefetch" href="/docs/assets/js/57.db78385b.js"><link rel="prefetch" href="/docs/assets/js/58.e037ce57.js"><link rel="prefetch" href="/docs/assets/js/59.7c26e33e.js"><link rel="prefetch" href="/docs/assets/js/6.250abb24.js"><link rel="prefetch" href="/docs/assets/js/60.c1a4dfa2.js"><link rel="prefetch" href="/docs/assets/js/61.3d52019b.js"><link rel="prefetch" href="/docs/assets/js/62.88a147dd.js"><link rel="prefetch" href="/docs/assets/js/63.a798bc42.js"><link rel="prefetch" href="/docs/assets/js/64.cfa3e77d.js"><link rel="prefetch" href="/docs/assets/js/65.cea729e7.js"><link rel="prefetch" href="/docs/assets/js/66.e8170b30.js"><link rel="prefetch" href="/docs/assets/js/67.52444b7c.js"><link rel="prefetch" href="/docs/assets/js/68.18605924.js"><link rel="prefetch" href="/docs/assets/js/69.bb93a4d0.js"><link rel="prefetch" href="/docs/assets/js/7.af6eda37.js"><link rel="prefetch" href="/docs/assets/js/70.96a3b576.js"><link rel="prefetch" href="/docs/assets/js/71.3106b414.js"><link rel="prefetch" href="/docs/assets/js/72.43c5f931.js"><link rel="prefetch" href="/docs/assets/js/73.6620868e.js"><link rel="prefetch" href="/docs/assets/js/74.f27b4755.js"><link rel="prefetch" href="/docs/assets/js/8.67c23c5f.js"><link rel="prefetch" href="/docs/assets/js/9.9c263f6c.js"><link rel="prefetch" href="/docs/assets/js/vendors~docsearch.7276d59c.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.5bea0f23.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><img src="/docs/img/feathers-offline-first.png" alt="FeathersJS Offline-first" class="logo"></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/guides/" class="nav-link">Guides</a></div><div class="nav-item"><a href="/docs/api/" class="nav-link router-link-active">API</a></div><div class="nav-item"><a href="/docs/cookbook/" class="nav-link">Cookbook</a></div><div class="nav-item"><a href="/docs/help/" class="nav-link">Help</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Ecosystem</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://docs.feathersjs.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Feathersjs (v4 Crow, current)
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/feathersjs/awesome-feathersjs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Awesome Feathersjs
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.youtube.com/playlist?list=PLwSdIiqnDlf_lb5y1liQK2OW5daXYgKOe" target="_blank" rel="noopener noreferrer" class="nav-link external">
  YouTube Playlist
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://vuex.feathersjs.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Feathers VueX
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://hooks-common.feathersjs.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Common Hooks
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><h4>Other versions</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://dove.docs.feathersjs.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Dove (v5, next)
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://buzzard.docs.feathersjs.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Buzzard (v3)
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://auk.docs.feathersjs.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Auk (v2)
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <a href="https://github.com/feathersjs-offline/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <a href="#" style="margin-left:20px"><span class="tooltip"><span alt-text="Toggle dark mode"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="lightbulb" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 352 512" class="svg-inline--fa fa-lightbulb fa-w-11"><path fill="currentColor" d="M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"></path></svg></span><span class="tooltiptext">Toggle dark mode</span></span></a></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/guides/" class="nav-link">Guides</a></div><div class="nav-item"><a href="/docs/api/" class="nav-link router-link-active">API</a></div><div class="nav-item"><a href="/docs/cookbook/" class="nav-link">Cookbook</a></div><div class="nav-item"><a href="/docs/help/" class="nav-link">Help</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Ecosystem</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://docs.feathersjs.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Feathersjs (v4 Crow, current)
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/feathersjs/awesome-feathersjs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Awesome Feathersjs
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.youtube.com/playlist?list=PLwSdIiqnDlf_lb5y1liQK2OW5daXYgKOe" target="_blank" rel="noopener noreferrer" class="nav-link external">
  YouTube Playlist
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://vuex.feathersjs.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Feathers VueX
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://hooks-common.feathersjs.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Common Hooks
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><h4>Other versions</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://dove.docs.feathersjs.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Dove (v5, next)
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://buzzard.docs.feathersjs.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Buzzard (v3)
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://auk.docs.feathersjs.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Auk (v2)
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <a href="https://github.com/feathersjs-offline/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Core</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/api/application.html" class="sidebar-link">Application</a></li><li><a href="/docs/api/services.html" class="sidebar-link">Services</a></li><li><a href="/docs/api/hooks.html" class="sidebar-link">Hooks</a></li><li><a href="/docs/api/events.html" class="sidebar-link">Events</a></li><li><a href="/docs/api/errors.html" class="sidebar-link">Errors</a></li><li><a href="/docs/api/configuration.html" class="sidebar-link">Configuration</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Transports</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/api/express.html" class="sidebar-link">Express</a></li><li><a href="/docs/api/socketio.html" class="sidebar-link">Socket.io</a></li><li><a href="/docs/api/primus.html" class="sidebar-link">Primus</a></li><li><a href="/docs/api/channels.html" class="sidebar-link">Channels</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Client</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/api/client.html" class="sidebar-link">Feathers Client</a></li><li><a href="/docs/api/client/rest.html" class="sidebar-link">REST Client</a></li><li><a href="/docs/api/client/socketio.html" class="sidebar-link">Socket.io Client</a></li><li><a href="/docs/api/client/primus.html" class="sidebar-link">Primus Client</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Authentication</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/api/authentication/" class="sidebar-link">Overview</a></li><li><a href="/docs/api/authentication/service.html" class="sidebar-link">Service</a></li><li><a href="/docs/api/authentication/strategy.html" class="sidebar-link">Strategies</a></li><li><a href="/docs/api/authentication/hook.html" class="sidebar-link">Hook</a></li><li><a href="/docs/api/authentication/jwt.html" class="sidebar-link">JWT</a></li><li><a href="/docs/api/authentication/local.html" class="sidebar-link">Local</a></li><li><a href="/docs/api/authentication/oauth.html" class="sidebar-link">OAuth</a></li><li><a href="/docs/api/authentication/client.html" class="sidebar-link">Client</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Databases</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/api/databases/adapters.html" class="sidebar-link">Overview</a></li><li><a href="/docs/api/databases/common.html" class="sidebar-link">Common API</a></li><li><a href="/docs/api/databases/querying.html" class="sidebar-link">Querying</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Offline-first</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/api/offline-api.html" aria-current="page" class="active sidebar-link">Feathers Offline-first API</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/api/offline-api.html#feathers-offline-server" class="sidebar-link">@feathers-offline/server</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/api/offline-api.html#api" class="sidebar-link">API</a></li><li class="sidebar-sub-header"><a href="/docs/api/offline-api.html#service-options" class="sidebar-link">service(options)</a></li><li class="sidebar-sub-header"><a href="/docs/api/offline-api.html#methods" class="sidebar-link">Methods</a></li><li class="sidebar-sub-header"><a href="/docs/api/offline-api.html#example" class="sidebar-link">Example</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/api/offline-api.html#feathersjs-offline-client-own-data" class="sidebar-link">@feathersjs-offline/client, own-data</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/api/offline-api.html#methods-2" class="sidebar-link">Methods</a></li><li class="sidebar-sub-header"><a href="/docs/api/offline-api.html#example-2" class="sidebar-link">Example</a></li><li class="sidebar-sub-header"><a href="/docs/api/offline-api.html#browser" class="sidebar-link">Browser</a></li><li class="sidebar-sub-header"><a href="/docs/api/offline-api.html#react-native" class="sidebar-link">React Native</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/api/offline-api.html#feathersjs-offline-client-own-net" class="sidebar-link">@feathersjs-offline/client, own-net</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/api/offline-api.html#methods-3" class="sidebar-link">Methods</a></li><li class="sidebar-sub-header"><a href="/docs/api/offline-api.html#getentries-params-2" class="sidebar-link">.getEntries(params)</a></li><li class="sidebar-sub-header"><a href="/docs/api/offline-api.html#sync-ball-2" class="sidebar-link">.sync(bAll)</a></li><li class="sidebar-sub-header"><a href="/docs/api/offline-api.html#internal-service-handles-2" class="sidebar-link">Internal service handles</a></li><li class="sidebar-sub-header"><a href="/docs/api/offline-api.html#example-3" class="sidebar-link">Example</a></li><li class="sidebar-sub-header"><a href="/docs/api/offline-api.html#browser-2" class="sidebar-link">Browser</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/api/offline-api.html#license" class="sidebar-link">License</a></li></ul></li><li><a href="/docs/api/offline-adapter.html" class="sidebar-link">Offline-first adapter</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="content content__default"><h1 id="feathers-offline-first-api"><a href="#feathers-offline-first-api" class="header-anchor">#</a> Feathers Offline-first API</h1> <p>This api describes three wrappers first the server wrapper, <code>realtimeWrapper,</code> and then the two client wrappers <code>owndataWrapper,</code> and <code>ownnetWrapper.</code></p> <h2 id="feathers-offline-server"><a href="#feathers-offline-server" class="header-anchor">#</a> @feathers-offline/server</h2> <br> <p><a href="https://www.npmjs.com/package/@feathersjs-offline/server" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/npm/v/@feathersjs-offline/server.svg?style=flat-square" alt="npm version"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://github.com/feathersjs-offline/owndata-ownnet/actions" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/github/workflow/status/feathersjs-offline/owndata-ownnet/CI" alt="Build Status"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://david-dm.org/@feathersjs-offline/server" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/david/feathersjs-offline/owndata-ownnet?path=packages%2Fserver&amp;style=flat-square" alt="Dependency Status"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://snyk.io/test/github/feathersjs-offline/owndata-ownnet" target="_blank" rel="noopener noreferrer"><img src="https://snyk.io/test/github/feathersjs-offline/owndata-ownnet/badge.svg" alt="Known Vulnerabilities"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://www.npmjs.com/package/@feathersjs-offline/server" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/npm/dm/@feathersjs-offline/server" alt="Download Status"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://github.com/feathersjs-offline/owndata-ownnet/tree/main/packages/server" target="_blank" rel="noopener noreferrer">@feathersjs-offline/server<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>is a database service adapter that extends any Feathers CRUD database adapter and helps to enable both own-data and own-net (as implemented in <a href="https://github.com/feathersjs-offline/owndata-ownnet/tree/main/packages/client" target="_blank" rel="noopener noreferrer">@feathersjs-offline/client<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for the service chosen.</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">npm</span> <span class="token function">install</span> --save @feathersjs-offline/server
</code></pre></div><p>Important: <code>@feathersjs-offline</code> extends any <a href="/docs/api/databases/common.html">Feathers Common database adapter API</a> and <a href="/docs/api/databases/querying.html">querying syntax</a>.</p> <h3 id="api"><a href="#api" class="header-anchor">#</a> API</h3> <h3 id="service-options"><a href="#service-options" class="header-anchor">#</a> <code>service(options)</code></h3> <p>Returns a new service instance initialized with the given options.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> ls<span class="token operator">-</span>service <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'feathers-localstorage'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> realtimeWrapper <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@feathersjs-offline/server'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'/messages'</span><span class="token punctuation">,</span> ls<span class="token operator">-</span><span class="token function">service</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  storage<span class="token operator">:</span> window<span class="token punctuation">.</span>localStorage <span class="token operator">||</span> AsyncStorage
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">realtimeWrapper</span><span class="token punctuation">(</span>app<span class="token punctuation">,</span> <span class="token string">'/messages'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> storage<span class="token punctuation">,</span> id<span class="token punctuation">,</span> startId<span class="token punctuation">,</span> name<span class="token punctuation">,</span> store<span class="token punctuation">,</span> paginate <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Options:</strong></p> <p>As the wrapper extends the wrapped service, the available options are those of the wrapped service and these:</p> <ul><li><code>useShortUuid</code> (<em>optional</em>, default <code>true</code>) - Generate short <code>uuid</code>'s. If false long <code>uuid</code>'s are generated. This option should match whatever you choose on the client.</li> <li><code>adapterTest</code> (<em>optional</em>, default <code>false</code>) - This is usually only used for running adapter tests as it suppresses returning the control attributes <code>updatedAt,</code> <code>onServerAt,</code> <code>deletedAt,</code> and <code>uuid</code> (or what ever you chose to call them) in results.</li> <li><code>myUuid</code> (<em>optional</em>, default <code>'uuid'</code>) - Rename control attribute <code>uuid</code> to suit your model.</li> <li><code>myUpdatedAt</code> (<em>optional</em>, default <code>'updatedAt'</code>) - Rename control attribute <code>updatedAt</code> to suit your model.</li> <li><code>myOnServerAt</code> (<em>optional</em>, default <code>'onServerAt'</code>) - Rename control attribute <code>onServerAt</code> to suit your model.</li> <li><code>myDeletedAt</code> (<em>optional</em>, default <code>'deletedAt'</code>) - Rename control attribute <code>deletedAt</code> to suit your model.</li></ul> <blockquote><p>Please note, when renaming control attributes <em><strong>you must</strong></em> do it on both the client and the server side.</p></blockquote> <h4 id="internal-service-handle"><a href="#internal-service-handle" class="header-anchor">#</a> Internal service handle</h4> <p>The internal service handle is useful for instance if you want to insert or delete rows directly into the wrapped service adapter. You can use it with any of the CRUD operations <code>get</code>, <code>find</code>, <code>create</code>, <code>update</code>, <code>patch</code>, or <code>remove</code>.</p> <p>The available service handle is:</p> <table><thead><tr><th>Handle</th> <th>Comment</th></tr></thead> <tbody><tr><td>service.wrapped</td> <td>The server database (i.e. equivalent to app.service('/message') for non-wrapped services)</td></tr></tbody></table> <p>The service handle is read-only.</p> <h3 id="methods"><a href="#methods" class="header-anchor">#</a> Methods</h3> <p>The services under <code>realtimeWrapper</code> control all implement the standard service methods as described in <a href="/docs/api/services.html">Services</a>.</p> <h3 id="example"><a href="#example" class="header-anchor">#</a> Example</h3> <p>Here is an example of a Feathers server with a messages in-memory service that supports pagination:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">npm</span> <span class="token function">install</span> @feathersjs/feathers @feathersjs/express @feathersjs/socketio @feathersjs/errors feathers-memory @feathersjs-offline/server
</code></pre></div><p>In <code>app.js</code>:</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-js"><code><span class="token keyword">const</span> feathers <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@feathersjs/feathers'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@feathersjs/express'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> socketio <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@feathersjs/socketio'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> memory <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'feathers-memory'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> realtimeWrapper <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span>'@feathersjs<span class="token operator">-</span>offline<span class="token operator">/</span>server<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Create an Express compatible Feathers application instance.</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token function">feathers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Turn on JSON parser for REST services</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Turn on URL-encoded parser for REST services</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">urlencoded</span><span class="token punctuation">(</span><span class="token punctuation">{</span> extended<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Enable REST services</span>
app<span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">rest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Enable REST services</span>
app<span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span><span class="token function">socketio</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Create an in-memory Feathers service with a default page size of 2 items</span>
<span class="token comment">// and a maximum size of 4</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'/messages'</span><span class="token punctuation">,</span> <span class="token function">memory</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  paginate<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    max<span class="token operator">:</span> <span class="token number">4</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">realtimeWrapper</span><span class="token punctuation">(</span>app<span class="token punctuation">,</span> <span class="token string">'/messages'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Set up default error handler</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">errorHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Create a dummy Message</span>
app<span class="token punctuation">.</span><span class="token function">service</span><span class="token punctuation">(</span><span class="token string">'messages'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  text<span class="token operator">:</span> <span class="token string">'Message created on server'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">message</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Created message'</span><span class="token punctuation">,</span> message<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Start the server.</span>
<span class="token keyword">const</span> port <span class="token operator">=</span> <span class="token number">3030</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span>port<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Feathers server listening on port </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Run the example with <code>node app</code> and go to <a href="http://localhost:3030/messages" target="_blank" rel="noopener noreferrer">localhost:3030/messages<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h2 id="feathersjs-offline-client-own-data"><a href="#feathersjs-offline-client-own-data" class="header-anchor">#</a> @feathersjs-offline/client, own-data</h2> <br> <p><a href="https://www.npmjs.com/package/@feathersjs-offline/client" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/npm/v/@feathersjs-offline/client.svg?style=flat-square" alt="npm version"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://github.com/feathersjs-offline/owndata-ownnet/actions" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/github/workflow/status/feathersjs-offline/owndata-ownnet/CI" alt="Build Status"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://david-dm.org/@feathersjs-offline/client" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/david/feathersjs-offline/owndata-ownnet?path=packages%2Fclient&amp;style=flat-square" alt="Dependency Status"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://snyk.io/test/github/feathersjs-offline/owndata-ownnet" target="_blank" rel="noopener noreferrer"><img src="https://snyk.io/test/github/feathersjs-offline/owndata-ownnet/badge.svg" alt="Known Vulnerabilities"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://www.npmjs.com/package/@feathersjs-offline/client" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/npm/dm/@feathersjs-offline/client" alt="Download Status"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>The <code>owndataWrapper</code> (and <code>Owndata</code>) of <a href="https://github.com/feathersjs-offline/owndata-ownnet/tree/main/packages/client" target="_blank" rel="noopener noreferrer">@feathersjs-offline/client<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is a database service adapter that wraps and extends any Feathers CRUD database adapter and behind the scenes locally stores data in <a href="https://developer.mozilla.org/en/docs/Web/API/Window/localStorage" target="_blank" rel="noopener noreferrer">localStorage<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> in the browser or <a href="https://facebook.github.io/react-native/docs/asyncstorage.html" target="_blank" rel="noopener noreferrer">AsyncStorage<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> in React Native.</p> <p><strong>Options:</strong></p> <p>All options available for the wrapped adapter can be used in addition to:</p> <ul><li><code>id</code> (<em>optional</em>, default: <code>'id'</code>) - The name of the id field property. Preferably, for <code>own-data</code> it ought to be <code>uuid.</code></li> <li><code>storage</code> (<em>optional</em>, default <code>window.localStorage</code>) - The local storage engine. You can pass in the browsers <code>window.localStorage,</code> React Native's <code>AsyncStorage,</code> or a NodeJS <code>localstorage</code> module.</li> <li><code>store</code> (<em>optional</em>, default <code>null</code>) - An object with id to item assignments to pre-initialize the data store.</li> <li><code>paginate</code> (<em>optional</em>, default <code>false</code>) - A pagination object containing a default and max page size.</li> <li><code>multi</code> (<em>optional</em>) - Allow create with arrays and update and remove with id null to change multiple items. Can be true for all methods or an array of allowed methods (e.g. <code>[ 'remove', 'create' ]</code>).</li> <li><code>timedSync</code> (<em>optional</em>, default: <code>86400000</code> ms) - Determines the frequency of forced synchronization with the server. Default is 24 hours. 0 means never. You can always call <code>service.sync()</code> to perform a synchronization. Any ad hoc synchronizations does not affect any timed synchronizations.</li> <li><code>fixedName</code> (<em>optional</em>, default: <code>null</code>) - Force the prefix name of the local DB and queue DB. This is useful when several apps on the same device use <code>@feathersjs-offline</code> and the same service name (e.g. <code>'/messages'</code>).</li> <li><code>useShortUuid</code> (<em>optional</em>, default <code>true</code>) - Generate short <code>uuid</code>'s. If false long <code>uuid</code>'s are generated. This option should match whatever you choose on the server.</li> <li><code>dates</code> (<em>optional</em>, default <code>false</code>) - Generate short <code>uuid</code>'s. If false long <code>uuid</code>'s are generated. This option should match whatever you choose on the server.</li> <li><code>adapterTest</code> (<em>optional</em>, default <code>false</code>) - This is usually only used for running adapter tests as it suppresses returning the control attributes - <code>updatedAt,</code> <code>onServerAt,</code> <code>deletedAt,</code> and <code>uuid</code> (or what ever you chose to call them) in results.</li> <li><code>myUuid</code> (<em>optional</em>, default <code>'uuid'</code>) - Rename control attribute <code>uuid</code> to suit your model.</li> <li><code>myUpdatedAt</code> (<em>optional</em>, default <code>'updatedAt'</code>) - Rename control attribute <code>updatedAt</code> to suit your model.</li> <li><code>myOnServerAt</code> (<em>optional</em>, default <code>'onServerAt'</code>) - Rename control attribute <code>onServerAt</code> to suit your model.</li> <li><code>myDeletedAt</code> (<em>optional</em>, default <code>'deletedAt'</code>) - Rename control attribute <code>deletedAt</code> to suit your model.</li></ul> <blockquote><p>Please note, when renaming control attributes <em><strong>you must</strong></em> do it on both the client and the server side.</p></blockquote> <h3 id="methods-2"><a href="#methods-2" class="header-anchor">#</a> Methods</h3> <p>The services under <code>owndataWrapper</code> control all implement the standard service methods as described in Services. In addition to this there are a couple of other methods to be used at your discretion.</p> <h4 id="getentries-params"><a href="#getentries-params" class="header-anchor">#</a> .getEntries(params)</h4> <p><code>service.getEntries(params) -&gt; Promise</code> - Retrieves a list of all resources from the service. params.query can be used to filter and limit the returned data.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">async</span> app<span class="token punctuation">.</span><span class="token function">service</span><span class="token punctuation">(</span><span class="token string">'/messages'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getEntries</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">entries = </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Note: <code>getEntries</code> retrieves all resources (fulfilling the criteria of <code>params.query</code>) and always return an array.</p> <h4 id="sync-ball"><a href="#sync-ball" class="header-anchor">#</a> .sync(bAll)</h4> <p><code>service.sync(bAll) -&gt; Promise</code> - Synchronize local data with server. if <code>bAll</code> is <code>true</code> synchronization is done beginning from BOT (Beginning Of Time). If <code>bAll</code> is <code>false</code> synchronization will be done from the newest possible timestamp (determined from resources in local DB). Synchronization will only be performed if no active operations involving the server are running.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">async</span> app<span class="token punctuation">.</span><span class="token function">service</span><span class="token punctuation">(</span><span class="token string">'/messages'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getEntries</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">entries = </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="internal-service-handles"><a href="#internal-service-handles" class="header-anchor">#</a> Internal service handles</h4> <p>Internal service handles are useful for receiving messages whenever a CRUD operation have been successfully performed. To receive a message you first have to register a message handler for the relevant service handle. You can register message handlers for the messages <code>created,</code> <code>updated,</code> <code>patched,</code> and <code>removed</code>. The available service handles are:</p> <table><thead><tr><th>Handle</th> <th>Comment</th></tr></thead> <tbody><tr><td>service.local</td> <td>The local database holding the relevant service resources</td></tr> <tr><td>service.queue</td> <td>The queue database holding all unfinished requests/operations</td></tr> <tr><td>service.remote</td> <td>The server database (i.e. equivalent to app.service('/message') for non-wrapped services)</td></tr></tbody></table> <p>Service handles are read-only.</p> <p>See an example using service handles and showing the inner workings of offline-first wrappers <a href="https://github.com/feathersjs-offline/simple-example" target="_blank" rel="noopener noreferrer">here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>In addition, the service emits a <code>synced</code> message every time a synchronization has been attempted. It returns a value of <code>true</code> if the synchronization was successful and <code>false</code> otherwise.</p> <h3 id="example-2"><a href="#example-2" class="header-anchor">#</a> Example</h3> <p>See the <a href="https://docs.feathersjs.com/api/client.html" target="_blank" rel="noopener noreferrer">clients<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> chapter for more information about using Feathers in the browser and React Native.</p> <h3 id="browser"><a href="#browser" class="header-anchor">#</a> Browser</h3> <div class="language-html extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content-type<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/html; charset=utf-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>FeathersJS chat<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>shortcut icon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>favicon.ico<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>//unpkg.com/feathers-chat@4.0.0/public/base.css<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>//unpkg.com/feathers-chat@4.0.0/public/chat.css<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>flex flex-column<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>//unpkg.com/@feathersjs/client@^4.3.0/dist/feathers.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/socket.io/socket.io.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>//unpkg.com/@feathersjs-offline/client@^2.0/dist/feathersjs-offline-client.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
      <span class="token keyword">var</span> service <span class="token operator">=</span> feathers<span class="token punctuation">.</span><span class="token function">localstorage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        storage<span class="token operator">:</span> window<span class="token punctuation">.</span>localStorage
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token function">feathers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'/messages'</span><span class="token punctuation">,</span> service<span class="token punctuation">)</span><span class="token punctuation">;</span>
      feathersOfflineClient<span class="token punctuation">.</span><span class="token function">owndataWrapper</span><span class="token punctuation">(</span>app<span class="token punctuation">,</span> <span class="token string">'/messages'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">var</span> messages <span class="token operator">=</span> app<span class="token punctuation">.</span><span class="token function">service</span><span class="token punctuation">(</span><span class="token string">'messages'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      messages<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'created'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Someone created a message'</span><span class="token punctuation">,</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      messages<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        text<span class="token operator">:</span> <span class="token string">'Message created in browser'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="react-native"><a href="#react-native" class="header-anchor">#</a> React Native</h3> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">npm</span> <span class="token function">install</span> @feathersjs/feathers feathers-localstorage @feathersjs-offline/owndata --save
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react-native'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> feathers <span class="token keyword">from</span> <span class="token string">'@feathersjs/feathers'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> localstorage <span class="token keyword">from</span> <span class="token string">'feathers-localstorage'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> owndataWrapper <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@feathersjs-offline/client'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span> AsyncStorage <span class="token punctuation">}</span> <span class="token operator">=</span> React<span class="token punctuation">;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">feathers</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'/messages'</span><span class="token punctuation">,</span> <span class="token function">localstorage</span><span class="token punctuation">(</span><span class="token punctuation">{</span> storage<span class="token operator">:</span> AsyncStorage <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">owndataWrapper</span><span class="token punctuation">(</span>app<span class="token punctuation">,</span> <span class="token string">'/messages'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> messages <span class="token operator">=</span> app<span class="token punctuation">.</span><span class="token function">service</span><span class="token punctuation">(</span><span class="token string">'messages'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

messages<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'created'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Someone created a message'</span><span class="token punctuation">,</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

messages<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  text<span class="token operator">:</span> <span class="token string">'Message from React Native'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="feathersjs-offline-client-own-net"><a href="#feathersjs-offline-client-own-net" class="header-anchor">#</a> @feathersjs-offline/client, own-net</h2> <br> <p><a href="https://www.npmjs.com/package/@feathersjs-offline/client" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/npm/v/@feathersjs-offline/client.svg?style=flat-square" alt="npm version"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://github.com/feathersjs-offline/owndata-ownnet/actions" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/github/workflow/status/feathersjs-offline/owndata-ownnet/CI" alt="Build Status"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://david-dm.org/@feathersjs-offline/client" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/david/feathersjs-offline/owndata-ownnet?path=packages%2Fclient&amp;style=flat-square" alt="Dependency Status"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://snyk.io/test/github/feathersjs-offline/owndata-ownnet" target="_blank" rel="noopener noreferrer"><img src="https://snyk.io/test/github/feathersjs-offline/owndata-ownnet/badge.svg" alt="Known Vulnerabilities"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://www.npmjs.com/package/@feathersjs-offline/client" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/npm/dm/@feathersjs-offline/client" alt="Download Status"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>The <code>ownnetWrapper</code> (and <code>Ownnet</code>) of <a href="https://github.com/feathersjs-offline/owndata-ownnet/client" target="_blank" rel="noopener noreferrer">@feathersjs-offline/client<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is a database service adapter that wraps and extends any Feathers CRUD database adapter and behind the scenes locally stores data in <a href="https://developer.mozilla.org/en/docs/Web/API/Window/localStorage" target="_blank" rel="noopener noreferrer">localStorage<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> in the browser or <a href="https://facebook.github.io/react-native/docs/asyncstorage.html" target="_blank" rel="noopener noreferrer">AsyncStorage<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> in React Native.</p> <p><strong>Options:</strong></p> <p>All options available for the wrapped adapter can be used in addition to:</p> <ul><li><code>id</code> (<em>optional</em>, default: <code>'id'</code>) - The name of the id field property. Preferably, for <code>own-data</code> it ought to be <code>uuid.</code></li> <li><code>storage</code> (<em>optional</em>, default <code>window.localStorage</code>) - The local storage engine. You can pass in the browsers <code>window.localStorage,</code> React Native's <code>AsyncStorage,</code> or a NodeJS <code>localstorage</code> module.</li> <li><code>store</code> (<em>optional</em>, default <code>null</code>) - An object with id to item assignments to pre-initialize the data store.</li> <li><code>paginate</code> (<em>optional</em>, default <code>false</code>) - A pagination object containing a default and max page size.</li> <li><code>multi</code> (<em>optional</em>) - Allow create with arrays and update and remove with id null to change multiple items. Can be true for all methods or an array of allowed methods (e.g. <code>[ 'remove', 'create' ]</code>).</li> <li><code>throttle</code> (<em>optional</em>, default: <code>200</code> ms) - Determines the minimum time before an operation on the local DB is actually written to permanent storage.</li> <li><code>timedSync</code> (<em>optional</em>, default: <code>86400000</code> ms) - Determines the frequency of forced synchronization with the server. Default is 24 hours. 0 means never. You can always call <code>service.sync()</code> to perform a synchronization. Any ad hoc synchronizations does not affect any timed synchronizations.</li> <li><code>fixedName</code> (<em>optional</em>, default: <code>null</code>) - Force the prefix name of the local DB and queue DB. This is useful when several apps on the same device use <code>@feathersjs-offline</code> and the same service name (e.g. '/messages').</li> <li><code>useShortUuid</code> (<em>optional</em>, default <code>true</code>) - Generate short <code>uuid</code>'s. If false long <code>uuid</code>'s are generated. This option should match whatever you choose on the server.</li> <li><code>adapterTest</code> (<em>optional</em>, default <code>false</code>) - This is usually only used for running adapter tests as it suppresses returning the control attributes - <code>updatedAt,</code> <code>onServerAt,</code> <code>deletedAt,</code> and <code>uuid</code> (or what ever you chose to call them) in results.</li> <li><code>myUuid</code> (<em>optional</em>, default <code>'uuid'</code>) - Rename control attribute <code>uuid</code> to suit your model.</li> <li><code>myUpdatedAt</code> (<em>optional</em>, default <code>'updatedAt'</code>) - Rename control attribute <code>updatedAt</code> to suit your model.</li> <li><code>myOnServerAt</code> (<em>optional</em>, default <code>'onServerAt'</code>) - Rename control attribute <code>onServerAt</code> to suit your model.</li> <li><code>myDeletedAt</code> (<em>optional</em>, default <code>'deletedAt'</code>) - Rename control attribute <code>deletedAt</code> to suit your model.</li></ul> <blockquote><p>Please note, when renaming control attributes <em><strong>you must</strong></em> do it on both the client and the server side.</p></blockquote> <h3 id="methods-3"><a href="#methods-3" class="header-anchor">#</a> Methods</h3> <p>The services under <code>ownnetWrapper</code> control all implement the standard service methods as described in Services. In addition to this there are a couple of other methods to be used at your discretion.</p> <h3 id="getentries-params-2"><a href="#getentries-params-2" class="header-anchor">#</a> .getEntries(params)</h3> <p><code>service.getEntries(params) -&gt; Promise</code> - Retrieves a list of all resources from the service. <code>params.query</code> can be used to filter and limit the returned data.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">async</span> app<span class="token punctuation">.</span><span class="token function">service</span><span class="token punctuation">(</span><span class="token string">'/messages'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getEntries</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">entries = </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Note: <code>getEntries</code> retrieves all resources (fulfilling the criteria of <code>params.query</code>) and always return an array.</p> <h3 id="sync-ball-2"><a href="#sync-ball-2" class="header-anchor">#</a> .sync(bAll)</h3> <p><code>service.sync(bAll) -&gt; Promise</code> - Synchronize local data with server. if <code>bAll</code> is <code>true</code> synchronization is done beginning from BOT (Beginning Of Time). If <code>bAll</code> is <code>false</code> synchronization will be done from the newest possible timestamp (determined from resources in local DB). Synchronization will only be performed if no active operations involving the server are running.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">async</span> app<span class="token punctuation">.</span><span class="token function">service</span><span class="token punctuation">(</span><span class="token string">'/messages'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getEntries</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">entries = </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="internal-service-handles-2"><a href="#internal-service-handles-2" class="header-anchor">#</a> Internal service handles</h3> <p>Internal service handles are useful for receiving messages whenever a CRUD operation have been successfully performed. To receive a message tou first have to register a message handler for the relevant service handle. You can register message handlers for the messages <code>created,</code> <code>updated,</code> <code>patched,</code> and <code>removed.</code> The available service handles are</p> <table><thead><tr><th>Handle</th> <th>Comment</th></tr></thead> <tbody><tr><td>service.local</td> <td>The local database holding the relevant service resources</td></tr> <tr><td>service.queue</td> <td>The queue database holding all unfinished requests/operations</td></tr> <tr><td>service.remote</td> <td>The server database (i.e. equivalent to app.service('/messages') for non-wrapped services)</td></tr></tbody></table> <p>Service handles are read-only.</p> <p>See an example using service handles and showing the inner workings of offline-first wrappers <a href="https://github.com/feathersjs-offline/simple-example" target="_blank" rel="noopener noreferrer">here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>In addition, the service emits a <code>synced</code> message every time a synchronization has been attempted. It returns a value of <code>true</code> if the synchronization was successful and <code>false</code> otherwise.</p> <h3 id="example-3"><a href="#example-3" class="header-anchor">#</a> Example</h3> <p>See the <a href="https://docs.feathersjs.com/api/client.html" target="_blank" rel="noopener noreferrer">clients<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> chapter for more information about using Feathers in the browser and React Native.</p> <h3 id="browser-2"><a href="#browser-2" class="header-anchor">#</a> Browser</h3> <div class="language-html extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content-type<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/html; charset=utf-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>FeathersJS chat<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>shortcut icon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>favicon.ico<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>//unpkg.com/feathers-chat@4.0.0/public/base.css<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>//unpkg.com/feathers-chat@4.0.0/public/chat.css<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>flex flex-column<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>//unpkg.com/@feathersjs/client@^4.3.0/dist/feathers.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/socket.io/socket.io.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>//unpkg.com/@feathersjs-offline/client@^2.0/dist/feathersjs-offline-client.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
      <span class="token keyword">var</span> service <span class="token operator">=</span> feathers<span class="token punctuation">.</span><span class="token function">localstorage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        storage<span class="token operator">:</span> window<span class="token punctuation">.</span>localStorage
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token function">feathers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'/messages'</span><span class="token punctuation">,</span> service<span class="token punctuation">)</span><span class="token punctuation">;</span>
      feathersOfflineClient<span class="token punctuation">.</span><span class="token function">ownnetWrapper</span><span class="token punctuation">(</span>app<span class="token punctuation">,</span> <span class="token string">'/messages'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">var</span> messages <span class="token operator">=</span> app<span class="token punctuation">.</span><span class="token function">service</span><span class="token punctuation">(</span><span class="token string">'messages'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      messages<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'created'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Someone created a message'</span><span class="token punctuation">,</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      messages<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        text<span class="token operator">:</span> <span class="token string">'Message created in browser'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="react-native-2"><a href="#react-native-2" class="header-anchor">#</a> React Native</h4> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">npm</span> <span class="token function">install</span> @feathersjs/feathers feathers-localstorage @feathersjs-offline/ownnet --save
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react-native'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> feathers <span class="token keyword">from</span> <span class="token string">'@feathersjs/feathers'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> localstorage <span class="token keyword">from</span> <span class="token string">'feathers-localstorage'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ownnetWrapper <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@feathersjs-offline/ownnet'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span> AsyncStorage <span class="token punctuation">}</span> <span class="token operator">=</span> React<span class="token punctuation">;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">feathers</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'/messages'</span><span class="token punctuation">,</span> <span class="token function">localstorage</span><span class="token punctuation">(</span><span class="token punctuation">{</span> storage<span class="token operator">:</span> AsyncStorage <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">ownnetWrapper</span><span class="token punctuation">(</span>app<span class="token punctuation">,</span> <span class="token string">'/messages'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> messages <span class="token operator">=</span> app<span class="token punctuation">.</span><span class="token function">service</span><span class="token punctuation">(</span><span class="token string">'messages'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

messages<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'created'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Someone created a message'</span><span class="token punctuation">,</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

messages<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  text<span class="token operator">:</span> <span class="token string">'Message from React Native'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="license"><a href="#license" class="header-anchor">#</a> License</h2> <p>Copyright (c) 2020 -</p> <p>Licensed under the <a href="/docs/api/license.html">MIT license</a>.</p></div> <footer class="page-edit"><blockquote><p>
        Anything unclear or missing?
        <a href="/help" rel="noopener noreferrer">
          Get help
        </a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span> or <a href="https://github.com/feathersjs-offline/docs/edit/master/docs/api/offline-api.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></p> <small><span class="prefix">Last Updated: </span> <span class="time">12/17/2020, 11:32:08 PM</span></small></blockquote></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/docs/api/databases/querying.html" class="prev">
          Querying
        </a></span> <span class="next"><a href="/docs/api/offline-adapter.html">
          Offline-first adapter
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/docs/assets/js/app.755caa04.js" defer></script><script src="/docs/assets/js/4.40f59cee.js" defer></script><script src="/docs/assets/js/47.e697328d.js" defer></script>
  </body>
</html>
