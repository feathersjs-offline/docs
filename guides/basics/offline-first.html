<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Offline-first | FeathersJS Offline-first</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="A REST and real-time API layer for modern applications">
    
    <link rel="preload" href="/docs/assets/css/0.styles.5bea0f23.css" as="style"><link rel="preload" href="/docs/assets/js/app.755caa04.js" as="script"><link rel="preload" href="/docs/assets/js/4.40f59cee.js" as="script"><link rel="preload" href="/docs/assets/js/64.cfa3e77d.js" as="script"><link rel="prefetch" href="/docs/assets/js/1.99d78445.js"><link rel="prefetch" href="/docs/assets/js/10.45e919c5.js"><link rel="prefetch" href="/docs/assets/js/11.83c3d330.js"><link rel="prefetch" href="/docs/assets/js/12.82e67b5e.js"><link rel="prefetch" href="/docs/assets/js/13.6aa5e31e.js"><link rel="prefetch" href="/docs/assets/js/14.60a12577.js"><link rel="prefetch" href="/docs/assets/js/15.36fd5bc1.js"><link rel="prefetch" href="/docs/assets/js/16.92cf6eab.js"><link rel="prefetch" href="/docs/assets/js/17.6463a6de.js"><link rel="prefetch" href="/docs/assets/js/18.18ea4d85.js"><link rel="prefetch" href="/docs/assets/js/19.630d889d.js"><link rel="prefetch" href="/docs/assets/js/20.f546b268.js"><link rel="prefetch" href="/docs/assets/js/21.7afb7ba6.js"><link rel="prefetch" href="/docs/assets/js/22.f0312947.js"><link rel="prefetch" href="/docs/assets/js/23.286ed5d2.js"><link rel="prefetch" href="/docs/assets/js/24.34371823.js"><link rel="prefetch" href="/docs/assets/js/25.39b525c9.js"><link rel="prefetch" href="/docs/assets/js/26.02cc4dd4.js"><link rel="prefetch" href="/docs/assets/js/27.22978b7b.js"><link rel="prefetch" href="/docs/assets/js/28.aab8db49.js"><link rel="prefetch" href="/docs/assets/js/29.e422102b.js"><link rel="prefetch" href="/docs/assets/js/30.e742f42a.js"><link rel="prefetch" href="/docs/assets/js/31.33965f48.js"><link rel="prefetch" href="/docs/assets/js/32.a078f957.js"><link rel="prefetch" href="/docs/assets/js/33.48824de5.js"><link rel="prefetch" href="/docs/assets/js/34.bece4b87.js"><link rel="prefetch" href="/docs/assets/js/35.3503788d.js"><link rel="prefetch" href="/docs/assets/js/36.b3368ddb.js"><link rel="prefetch" href="/docs/assets/js/37.e9ab2d98.js"><link rel="prefetch" href="/docs/assets/js/38.beb58882.js"><link rel="prefetch" href="/docs/assets/js/39.36797e32.js"><link rel="prefetch" href="/docs/assets/js/40.f7e535c4.js"><link rel="prefetch" href="/docs/assets/js/41.7cc2fb79.js"><link rel="prefetch" href="/docs/assets/js/42.cdd5072a.js"><link rel="prefetch" href="/docs/assets/js/43.6d8f2b7b.js"><link rel="prefetch" href="/docs/assets/js/44.c61586cd.js"><link rel="prefetch" href="/docs/assets/js/45.0daab1dc.js"><link rel="prefetch" href="/docs/assets/js/46.b1cdf2d3.js"><link rel="prefetch" href="/docs/assets/js/47.e697328d.js"><link rel="prefetch" href="/docs/assets/js/48.0092dd76.js"><link rel="prefetch" href="/docs/assets/js/49.e4ce18c4.js"><link rel="prefetch" href="/docs/assets/js/5.cb064351.js"><link rel="prefetch" href="/docs/assets/js/50.2005b465.js"><link rel="prefetch" href="/docs/assets/js/51.a40c3f58.js"><link rel="prefetch" href="/docs/assets/js/52.220fdb75.js"><link rel="prefetch" href="/docs/assets/js/53.8ca1d8d6.js"><link rel="prefetch" href="/docs/assets/js/54.b807da69.js"><link rel="prefetch" href="/docs/assets/js/55.4f9b1887.js"><link rel="prefetch" href="/docs/assets/js/56.22afea52.js"><link rel="prefetch" href="/docs/assets/js/57.db78385b.js"><link rel="prefetch" href="/docs/assets/js/58.e037ce57.js"><link rel="prefetch" href="/docs/assets/js/59.7c26e33e.js"><link rel="prefetch" href="/docs/assets/js/6.250abb24.js"><link rel="prefetch" href="/docs/assets/js/60.c1a4dfa2.js"><link rel="prefetch" href="/docs/assets/js/61.3d52019b.js"><link rel="prefetch" href="/docs/assets/js/62.88a147dd.js"><link rel="prefetch" href="/docs/assets/js/63.a798bc42.js"><link rel="prefetch" href="/docs/assets/js/65.cea729e7.js"><link rel="prefetch" href="/docs/assets/js/66.e8170b30.js"><link rel="prefetch" href="/docs/assets/js/67.52444b7c.js"><link rel="prefetch" href="/docs/assets/js/68.18605924.js"><link rel="prefetch" href="/docs/assets/js/69.bb93a4d0.js"><link rel="prefetch" href="/docs/assets/js/7.af6eda37.js"><link rel="prefetch" href="/docs/assets/js/70.96a3b576.js"><link rel="prefetch" href="/docs/assets/js/71.3106b414.js"><link rel="prefetch" href="/docs/assets/js/72.43c5f931.js"><link rel="prefetch" href="/docs/assets/js/73.6620868e.js"><link rel="prefetch" href="/docs/assets/js/74.f27b4755.js"><link rel="prefetch" href="/docs/assets/js/8.67c23c5f.js"><link rel="prefetch" href="/docs/assets/js/9.9c263f6c.js"><link rel="prefetch" href="/docs/assets/js/vendors~docsearch.7276d59c.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.5bea0f23.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><img src="/docs/img/feathers-offline-first.png" alt="FeathersJS Offline-first" class="logo"></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/guides/" class="nav-link router-link-active">Guides</a></div><div class="nav-item"><a href="/docs/api/" class="nav-link">API</a></div><div class="nav-item"><a href="/docs/cookbook/" class="nav-link">Cookbook</a></div><div class="nav-item"><a href="/docs/help/" class="nav-link">Help</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Ecosystem</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://docs.feathersjs.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Feathersjs (v4 Crow, current)
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/feathersjs/awesome-feathersjs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Awesome Feathersjs
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.youtube.com/playlist?list=PLwSdIiqnDlf_lb5y1liQK2OW5daXYgKOe" target="_blank" rel="noopener noreferrer" class="nav-link external">
  YouTube Playlist
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://vuex.feathersjs.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Feathers VueX
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://hooks-common.feathersjs.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Common Hooks
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><h4>Other versions</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://dove.docs.feathersjs.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Dove (v5, next)
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://buzzard.docs.feathersjs.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Buzzard (v3)
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://auk.docs.feathersjs.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Auk (v2)
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <a href="https://github.com/feathersjs-offline/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <a href="#" style="margin-left:20px"><span class="tooltip"><span alt-text="Toggle dark mode"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="lightbulb" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 352 512" class="svg-inline--fa fa-lightbulb fa-w-11"><path fill="currentColor" d="M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"></path></svg></span><span class="tooltiptext">Toggle dark mode</span></span></a></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/guides/" class="nav-link router-link-active">Guides</a></div><div class="nav-item"><a href="/docs/api/" class="nav-link">API</a></div><div class="nav-item"><a href="/docs/cookbook/" class="nav-link">Cookbook</a></div><div class="nav-item"><a href="/docs/help/" class="nav-link">Help</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Ecosystem</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://docs.feathersjs.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Feathersjs (v4 Crow, current)
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/feathersjs/awesome-feathersjs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Awesome Feathersjs
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.youtube.com/playlist?list=PLwSdIiqnDlf_lb5y1liQK2OW5daXYgKOe" target="_blank" rel="noopener noreferrer" class="nav-link external">
  YouTube Playlist
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://vuex.feathersjs.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Feathers VueX
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://hooks-common.feathersjs.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Common Hooks
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><h4>Other versions</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://dove.docs.feathersjs.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Dove (v5, next)
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://buzzard.docs.feathersjs.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Buzzard (v3)
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://auk.docs.feathersjs.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Auk (v2)
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <a href="https://github.com/feathersjs-offline/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>The FeathersJS Offline-first guide</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/guides/basics/setup.html" class="sidebar-link">Getting ready</a></li><li><a href="/docs/guides/basics/starting.html" class="sidebar-link">Quick start</a></li><li><a href="/docs/guides/basics/generator.html" class="sidebar-link">Generating an app</a></li><li><a href="/docs/guides/basics/services.html" class="sidebar-link">Services</a></li><li><a href="/docs/guides/basics/hooks.html" class="sidebar-link">Hooks</a></li><li><a href="/docs/guides/basics/authentication.html" class="sidebar-link">Authentication</a></li><li><a href="/docs/guides/basics/frontend.html" class="sidebar-link">Building a frontend</a></li><li><a href="/docs/guides/basics/offline-first.html" aria-current="page" class="active sidebar-link">Offline-first</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/guides/basics/offline-first.html#come-on-it-can-t-be-that-simple" class="sidebar-link">Come-on, it can't be that simple!</a></li><li class="sidebar-sub-header"><a href="/docs/guides/basics/offline-first.html#what-s-next" class="sidebar-link">What's next?</a></li></ul></li><li><a href="/docs/guides/basics/implementation.html" class="sidebar-link">How is own-data/own-net implemented?</a></li><li><a href="/docs/guides/basics/testing.html" class="sidebar-link">Writing tests</a></li></ul></section></li><li><a href="/docs/guides/frameworks.html" class="sidebar-link">Frontend Frameworks</a></li><li><a href="/docs/guides/security.html" class="sidebar-link">Security</a></li><li><a href="/docs/guides/migrating.html" class="sidebar-link">Migrating</a></li></ul> </aside> <main class="page"> <div class="content content__default"><h1 id="offline-first"><a href="#offline-first" class="header-anchor">#</a> Offline-first</h1> <p>Right - we have a real-time application running, but how do we get our application to be offline-first? Well, it is very simple - in fact so simple it ought to be illegal!</p> <p>First we have to import the necessary wrappers; one for the client and one for the server.</p> <div class="tabs-component"><ul role="tablist" class="tabs-component-tabs"></ul> <div class="tabs-component-panels"><section aria-hidden="true" id="javascript" role="tabpanel" class="tabs-component-panel" style="display:none;"><p>We need to add a couple of lines to <code>app/app.js</code>. First we show how to use the <code>own-data</code> wrapper:</p> <div class="language-js extra-class"><div class="highlight-lines"><br><div class="highlighted"> </div><br><br><div class="highlighted"> </div><br></div><pre class="language-js"><code><span class="token comment">// ...</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> owndataWrapper <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@feathersjs-offline/owndata'</span><span class="token punctuation">;</span>
<span class="token comment">// ...</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'messages'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">owndataWrapper</span><span class="token punctuation">(</span>app<span class="token punctuation">,</span> <span class="token string">'messages'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Wrap the service; use the own-data principle</span>
</code></pre></div><p>Next, this is how you use the <code>own-net</code> wrapper:</p> <div class="language-js extra-class"><div class="highlight-lines"><br><div class="highlighted"> </div><br><br><div class="highlighted"> </div><br></div><pre class="language-js"><code><span class="token comment">// ...</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ownnetWrapper <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@feathersjs-offline/ownnet'</span><span class="token punctuation">;</span>
<span class="token comment">// ...</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'messages'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">ownnetWrapper</span><span class="token punctuation">(</span>app<span class="token punctuation">,</span> <span class="token string">'messages'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Wrap the service; use the own-net principle</span>
</code></pre></div><p>Here is a couple of links to help you choose between <a href="#come-on-it-can-t-be-that-simple">own-data</a> and <a href="#come-on-it-can-t-be-that-simple">own-net</a>.</p></section> <section aria-hidden="true" id="typescript" role="tabpanel" class="tabs-component-panel" style="display:none;"><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Sadly, the TypeScript version is not complete yet.</span>
</code></pre></div></section></div></div> <p>For the server we do this</p> <div class="tabs-component"><ul role="tablist" class="tabs-component-tabs"></ul> <div class="tabs-component-panels"><section aria-hidden="true" id="javascript" role="tabpanel" class="tabs-component-panel" style="display:none;"><div class="language-js extra-class"><div class="highlight-lines"><br><div class="highlighted"> </div><br><br><br><br><br><div class="highlighted"> </div><br></div><pre class="language-js"><code><span class="token comment">// ...</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> realtimeWrapper <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@feathersjs-offline/server'</span><span class="token punctuation">;</span>
<span class="token comment">// ...</span>
<span class="token comment">// app.use('messages', Messages());</span>

<span class="token comment">// Wrap the service; supports both own-data/own-net principles</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'messages'</span><span class="token punctuation">,</span> <span class="token function">Messages</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">realtimeWrapper</span><span class="token punctuation">(</span>app<span class="token punctuation">,</span> <span class="token string">'messages'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></section> <section aria-hidden="true" id="typescript" role="tabpanel" class="tabs-component-panel" style="display:none;"><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Sadly, the TypeScript version is not complete yet.</span>
</code></pre></div></section></div></div> <p>Now restart the server and refresh the client in the browser and that's it! From now on, all activity on the <code>messages</code> service on the client will be handled in a client-first server-later (possibly very shortly after) manner. What's more, whenever the client has a valid connection to the server it will synchronize all changes made on the <code>message</code> service while offline - regardless of the origin of the changes.</p> <p>Synchronization is done in a <code>newest change wins</code> manner. Changing the <em>same</em> (same <code>uuid</code>) item on three different offline devices makes the latest change eventually become the winner.</p> <p>Items removed from the server cannot be revived (this is because we make a '<em>soft-delete</em>' on the server to be able to ensure synchronization can be successful at all times).</p> <blockquote><p><strong>Note:</strong> For this to work you must ensure the service implements the date fields <code>updatedAt,</code> <code>onServerAt,</code> and the id field <code>uuid.</code> The wrapper will do all handling of the fields behind the scenes. (The <code>uuid</code> do not <em>have</em> to be the id field but it is considered good practice). You can rename these fields if you want (see <a href="/docs/api/offline-api.html">Offline-first API</a>).</p> <p>For MongoDB you do not have to worry, but for schema-centric DBs you have to ensure your schema include these fields.</p></blockquote> <blockquote><p><strong>Note:</strong> If you want to know more about <em>how</em> the wrappers work read <a href="/docs/guides/basics/implementation.html">own-data/own-net implementation</a>.</p></blockquote> <h2 id="come-on-it-can-t-be-that-simple"><a href="#come-on-it-can-t-be-that-simple" class="header-anchor">#</a> Come-on, it can't be that simple!</h2> <p>Well, it almost is due to Feathers clever adapter implementation. All CRUD service adapters, that are able to pass the adapterTests, should be able work seamlessly with the realtime wrappers. But, you have to choose the wrapper to use based on your needs:</p> <table><thead><tr><th>My need</th> <th style="text-align:center;">own-data</th> <th style="text-align:center;">own-net</th> <th>Comment</th></tr></thead> <tbody><tr><td>Keep my data in sync</td> <td style="text-align:center;">(✔️)</td> <td style="text-align:center;">✔️</td> <td>own-net is less chatty</td></tr> <tr><td>Every operation should be available to hooks</td> <td style="text-align:center;">✔️</td> <td style="text-align:center;">❌</td> <td>the only choice</td></tr> <tr><td>Only accumulated operations needed for hooks</td> <td style="text-align:center;">❌</td> <td style="text-align:center;">✔️</td> <td>own-net is less chatty</td></tr></tbody></table> <p>Furthermore, you need to decide how frequent you want the automatic synchronization to be performed (default is every 24 hours).</p> <p>Last, you might consider if your application needs to synchronize outside the automatic synchronization and if that's the case you have to make sure you activate the method (with the right options, see <a href="/docs/api/offline-api.html">FeathersJS Offline-first API</a>).</p> <blockquote><p><strong>Note:</strong> The realtime wrappers are meant to be used as wrappers for database adapters and will therefore not accept <code>app.service(&lt;path&gt;).update(id, ...)</code> with <code>id === null</code>. You have to use <code>patch</code> to alter several documents at the same time.</p></blockquote> <blockquote><p><strong>Tip:</strong> You should use the <code>own-data</code> / <code>own-net</code> wrappers with some care, as they consume parts of the browsers storage (either WebSQL, IndexedDB, or localStorage) which is not an unlimited resource pool.</p></blockquote> <blockquote><p><strong>Tip:</strong> If you want to take advantage of the <code>own-data</code> / <code>own-net</code> for your server backends, then you must include a <code>localStorage</code> solution <em>before</em> you include <code>@feathersjs-offline/client</code> like:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> LocalStorage <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'node-localstorage'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>LocalStorage<span class="token punctuation">;</span>
global<span class="token punctuation">.</span>localStorage <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LocalStorage</span><span class="token punctuation">(</span><span class="token string">'./.scratch'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>and of cause use <code>@feathersjs-offline/server</code> for the master server.</p></blockquote> <h2 id="what-s-next"><a href="#what-s-next" class="header-anchor">#</a> What's next?</h2> <p>In the final chapter, we'll look at <a href="/docs/guides/basics/testing.html">how to write automated tests for our API</a>. Alternatively, you can digress a read about how Feathers Offline-first has been <a href="/docs/guides/basics/implementation.html">implemented</a>.</p></div> <footer class="page-edit"><blockquote><p>
        Anything unclear or missing?
        <a href="/help" rel="noopener noreferrer">
          Get help
        </a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span> or <a href="https://github.com/feathersjs-offline/docs/edit/master/docs/guides/basics/offline-first.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></p> <small><span class="prefix">Last Updated: </span> <span class="time">7/30/2021, 5:01:58 PM</span></small></blockquote></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/docs/guides/basics/frontend.html" class="prev">
          Building a frontend
        </a></span> <span class="next"><a href="/docs/guides/basics/implementation.html">
          How is own-data/own-net implemented?
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/docs/assets/js/app.755caa04.js" defer></script><script src="/docs/assets/js/4.40f59cee.js" defer></script><script src="/docs/assets/js/64.cfa3e77d.js" defer></script>
  </body>
</html>
